<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Config Items Manager</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-50 min-h-screen flex items-center justify-center p-4">
    <div id="root" class="w-full max-w-md"></div>

    <!-- React and ReactDOM via CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <script type="text/javascript">
      const { useState, useEffect } = React;

      // Inline SVGs for icons
      const PencilIcon = (props) => React.createElement('svg', {
        ...props,
        xmlns: "http://www.w3.org/2000/svg",
        fill: "none",
        viewBox: "0 0 24 24",
        stroke: "currentColor",
        strokeWidth: 2,
      },
        React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", d: "M12 20h9" }),
        React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", d: "M16.5 3.5l4 4L7 21H3v-4L16.5 3.5z" })
      );

      const CheckIcon = (props) => React.createElement('svg', {
        ...props,
        xmlns: "http://www.w3.org/2000/svg",
        fill: "none",
        viewBox: "0 0 24 24",
        stroke: "currentColor",
        strokeWidth: 2,
      },
        React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", d: "M5 13l4 4L19 7" })
      );

      const TrashIcon = (props) => React.createElement('svg', {
        ...props,
        xmlns: "http://www.w3.org/2000/svg",
        fill: "none",
        viewBox: "0 0 24 24",
        stroke: "currentColor",
        strokeWidth: 2,
      },
        React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", d: "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6M1 7h22M10 3h4a1 1 0 011 1v1H9V4a1 1 0 011-1z" })
      );

      const PlusIcon = (props) => React.createElement('svg', {
        ...props,
        xmlns: "http://www.w3.org/2000/svg",
        fill: "none",
        viewBox: "0 0 24 24",
        stroke: "currentColor",
        strokeWidth: 2,
      },
        React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", d: "M12 4v16m8-8H4" })
      );

      function ConfigItemsManager() {
        // Load items from localStorage or use default
        const [items, setItems] = useState(() => {
          const saved = localStorage.getItem('configItems');
          return saved ? JSON.parse(saved) : [
            { id: 1, value: "Config Item 1", editing: false },
            { id: 2, value: "Config Item 2", editing: false },
          ];
        });

        // Persist items to localStorage whenever they change
        useEffect(() => {
          localStorage.setItem('configItems', JSON.stringify(items));
        }, [items]);

        const handleEdit = (id) => {
          setItems(items.map(item => item.id === id ? { ...item, editing: true } : item));
        };

        const handleSave = (id) => {
          setItems(items.map(item => item.id === id ? { ...item, editing: false } : item));
        };

        const handleChange = (id, value) => {
          setItems(items.map(item => item.id === id ? { ...item, value } : item));
        };

        const handleAdd = () => {
          const newId = items.length ? Math.max(...items.map(i => i.id)) + 1 : 1;
          setItems([...items, { id: newId, value: "", editing: true }]);
        };

        const handleRemove = (id) => {
          setItems(items.filter(item => item.id !== id));
        };

        return (
          React.createElement('div', { className: "p-4 bg-white shadow rounded" },
            React.createElement('h2', { className: "text-lg font-semibold mb-4" }, "Configuration Items"),
            React.createElement('ul', { className: "space-y-2" },
              items.map(item =>
                React.createElement('li', { key: item.id, className: "flex items-center space-x-2" },
                  React.createElement('input', {
                    type: 'text',
                    className: `flex-1 border rounded p-2 ${item.editing ? "border-blue-500" : "border-gray-300 bg-gray-100"}`,
                    value: item.value,
                    onChange: (e) => handleChange(item.id, e.target.value),
                    disabled: !item.editing
                  }),
                  !item.editing
                    ? React.createElement('button', { onClick: () => handleEdit(item.id), className: "text-blue-500" }, React.createElement(PencilIcon, { className: "w-5 h-5" }))
                    : React.createElement('button', { onClick: () => handleSave(item.id), className: "text-green-500" }, React.createElement(CheckIcon, { className: "w-5 h-5" })),
                  React.createElement('button', { onClick: () => handleRemove(item.id), className: "text-red-500" }, React.createElement(TrashIcon, { className: "w-5 h-5" }))
                )
              )
            ),
            React.createElement('button', {
              onClick: handleAdd,
              className: "mt-4 px-4 py-2 bg-blue-500 text-white rounded flex items-center space-x-1"
            },
              React.createElement(PlusIcon, { className: "w-4 h-4" }),
              React.createElement('span', null, "Add Item")
            )
          )
        );
      }

      ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(ConfigItemsManager));
    </script>
  </body>
</html>
