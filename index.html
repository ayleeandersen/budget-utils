<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Config Items Manager</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons UMD -->
    <script src="https://unpkg.com/lucide/dist/lucide.min.js"></script>
  </head>
  <body class="bg-gray-50 min-h-screen flex items-center justify-center p-4">
    <div id="root" class="w-full max-w-md"></div>

    <!-- React and ReactDOM via CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <script type="text/javascript">
      const { useState } = React;
      const { Pencil, Check, Trash2, Plus } = lucide; // Use `lucide` global object

      function ConfigItemsManager() {
        const [items, setItems] = useState([
          { id: 1, value: "Config Item 1", editing: false },
          { id: 2, value: "Config Item 2", editing: false },
        ]);

        const handleEdit = (id) => {
          setItems(items.map(item => item.id === id ? { ...item, editing: true } : item));
        };

        const handleSave = (id) => {
          setItems(items.map(item => item.id === id ? { ...item, editing: false } : item));
        };

        const handleChange = (id, value) => {
          setItems(items.map(item => item.id === id ? { ...item, value } : item));
        };

        const handleAdd = () => {
          const newId = items.length ? Math.max(...items.map(i => i.id)) + 1 : 1;
          setItems([...items, { id: newId, value: "", editing: true }]);
        };

        const handleRemove = (id) => {
          setItems(items.filter(item => item.id !== id));
        };

        return (
          React.createElement('div', { className: "p-4 bg-white shadow rounded" },
            React.createElement('h2', { className: "text-lg font-semibold mb-4" }, "Configuration Items"),
            React.createElement('ul', { className: "space-y-2" },
              items.map(item =>
                React.createElement('li', { key: item.id, className: "flex items-center space-x-2" },
                  React.createElement('input', {
                    type: 'text',
                    className: `flex-1 border rounded p-2 ${item.editing ? "border-blue-500" : "border-gray-300 bg-gray-100"}`,
                    value: item.value,
                    onChange: (e) => handleChange(item.id, e.target.value),
                    disabled: !item.editing
                  }),
                  !item.editing
                    ? React.createElement('button', { onClick: () => handleEdit(item.id), className: "text-blue-500" }, React.createElement(Pencil, { size: 18 }))
                    : React.createElement('button', { onClick: () => handleSave(item.id), className: "text-green-500" }, React.createElement(Check, { size: 18 })),
                  React.createElement('button', { onClick: () => handleRemove(item.id), className: "text-red-500" }, React.createElement(Trash2, { size: 18 }))
                )
              )
            ),
            React.createElement('button', {
              onClick: handleAdd,
              className: "mt-4 px-4 py-2 bg-blue-500 text-white rounded flex items-center space-x-1"
            },
              React.createElement(Plus, { size: 16 }),
              React.createElement('span', null, "Add Item")
            )
          )
        );
      }

      ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(ConfigItemsManager));
    </script>
  </body>
</html>
